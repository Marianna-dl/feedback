Marianna le 25/12

JOYEUX NOEL A TOUS! :-)

Robin: ton thread de tri doit se faire tout seul donc constructeur sans paramètres, moi je peux rien lui passer.
Je vais juste l'appeler toutes les x secondes  (pas le choix car j'ai un pb de contrôle des threads via les routes Slim -> peu importe ce que je fais,
il me recréer plusieurs instances d'un même thread donc impossible d'arrêter le 1er thread par exemple et j'ai essayé moultes solutions pendant 2 jours! ^^)
Problème: ton script va se remettre à 0 à chaque appel que je fais ... du coup je sais pas si ça va être cohérent pour récupérer les lignes avec les dates
Je ne sais pas trop comment faire...car mon appel va forcément le faire re-parcourir la table messageBrute du début u_u
Je crois que les threads n'acceptent pas $_SESSION[], sinon on pourrais stocker la ligne où tu t'es arrêté et tu la récupérerais.

Autrement il faudra voir avec la solution d'en dessous (exec() etc..)
Les threads en php n'ont pas l'air hyper au point, surtout qu'on en fait une utilisation particulière à la JAVA mais ça colle pas trop :/

Si tu trouve une solution... en attendant je vais pas pouvoir faire grand chose de ce côté :/

PS: j'ai renommé ta classe et le nom de fichier RobotTri et j'ai mis toutes tes fonctions dans le thread, je crois qu'il y avait une } en trop
--------------------------------------------------------------------------------------------------------------------

 Marianna Le 24/12: 
 
ATTENTION! Pour faire fonctionner les threads en php, il faut que vous installiez l'extension pthread dans wamp.
C'est plus compliqué sous Linux il me semble, je n'ai pas regarder comment on faisait.
La page où dl l'extension : http://php.net/manual/fr/pthreads.installation.php
---> Il faut regarder votre version de php dans wamp d'abord: (clique gauche sur l'icone/PHP/version)
Ex: je suis en 5.5.12.
---> J'ai cliquer sur ce lien : http://windows.php.net/downloads/pecl/releases/pthreads/
---> J'ai cliquer sur la version 2.0.9 (c'est un exemple)
---> J'ai pris le 2.0.9-5.5-ts...x64.zip : 5.5 car c'est ma version php, x64 car je suis en 64 bits ^^" donc x86 si vous êtes en 32 bits

===> Ensuite suivez le tuto d'extraction (cf premier lien) et copiez les fichiers où il faut.
===> Modifier le fichier de config comme il le dise dans le point 4 (C:\wamp\bin\php\php.ini) 
MAIS il faut aussi modifier le php.ini dans C:\wamp\bin\apache\apache2.4.9\bin (sinon ça ne marchait pas pour moi)
----> N'oubliez pas de restart wamp.



Robin/Glodie: Pour le moment on garde les threads (mais j'ai galéré à les manipuler, je suis obliger de le kill et restart toutes les x secondes u_u)
Et je ne trouve pas ça très pratique finalement qu'on doive installer l'extension etc...
Il y a possibilité de faire tourner des background process en php avec "exec(...);" et kill(pid) pour linux et taskkill pour windows.
A terme, il serait intéressant de faire une version avec ça (exec étant inclu de base dans php). 
Il faudrait:
-Determiner sous quel os on est (var_dump(PHP_OS) ou autre)
-utiliser exec("php-cli  somescript.php", $pid): le pid du process se mettra dans $pid à ce que j'ai compris
-Proposer une fonction kill($pid) selon l'OS où on est 




----------------------------------------------------------------------------------------------------------------

Vous devez mettre à jour la BDD, mon code ne fonctionera pas autrement! le nom du fichier est feedback.sql

Bon voila j'ai enfin envoyé mon code que vous attendiez tant ! Mais quelques petites infos avant.
Le nom des fichiers : 
_ClassUsers.php : contient les classes des utilisateurs.
_testsClassUsers.php :  si vous voulez tester un peu mon code, utilisez ce fichier. Le code est commenté, mais posez moi des questions si besoin.
_SuivitProjet.xls : je l'explique un peu plus tard.


Ensuite, des petits messages visés :
_Pour tous : Le fichier SuivitProjet.xls vient de Mr Gibert. Pour faire le suivit de projet comme son nom l'indique, comme j'ai terminé mon boulot avec les classes, je peux m'occuper de ca. Je pense qu'il faut que ce soit qu'une personne, parce que si tout le monde y touche ca pourrait vite etre le bordel dessus et il faut pas. Ca me changera les idées quand je vais coder les sauvegardes sous formes de fichier ;) Je le mes sur le git pour que tout le monde puisse le lire. Il faudra juste m'envoyer des messages pour me préciser les tâches et tout ce qu'il faut pour que je le remplisse correctement.

_Robin : Dans la table réponse, la foreign key des réponse depuis la table des questions était une bonne idée, seulement on a dit qu'on stockerai les réponses des utilisateurs sous la forme 'ABCD', donc j'ai enlevé cette contrainte. Ca va être à nous dans le PHP de verifier que les utilisateurs on bien saisie les bonnes données.

_Marianna : Lis le message de Robin. Je pense pas que ca change ton code, ca ne devrait impacter que le miens, mais je prefère prévenir.

_Naim et Thanh : Le fichier qui vous intéresse est ClassUsers.php, je l'ai commenté en francais, et n'hesitez pas à me poser des questions, je vous expliquerai ce qu'il faut. Je vous conseille de créer une nouvelle classe "ClassOperators.php" ou un truc dans le genre pour toutes les classes de l'opérateur.